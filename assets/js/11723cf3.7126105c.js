"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4616],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return h}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=r.createContext({}),p=function(e){var t=r.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},l=function(e){var t=p(e.components);return r.createElement(d.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,d=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),c=p(n),h=o,f=c["".concat(d,".").concat(h)]||c[h]||u[h]||i;return n?r.createElement(f,a(a({ref:t},l),{},{components:n})):r.createElement(f,a({ref:t},l))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=c;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var p=2;p<i;p++)a[p]=n[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},9725:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return d},metadata:function(){return p},toc:function(){return l},default:function(){return c}});var r=n(2122),o=n(9756),i=(n(7294),n(3905)),a=["components"],s={},d="Joining a Running Network",p={unversionedId:"operators/joining",id:"operators/joining",isDocsHomePage:!1,title:"Joining a Running Network",description:"The Casper network is permissionless, enabling new validators to join the network and provide additional security to the system. This page will outline the sequence of recommended steps to spin up a validating node and successfully join an existing network.",source:"@site/source/docs/casper/operators/joining.md",sourceDirName:"operators",slug:"/operators/joining",permalink:"/docs/operators/joining",editUrl:"https://github.com/casper-network/documentation/tree/master/docs/casper/operators/joining.md",tags:[],version:"current",frontMatter:{},sidebar:"operators",previous:{title:"Setting up a Network",permalink:"/docs/operators/create"},next:{title:"Basic Node Setup",permalink:"/docs/operators/setup"}},l=[{value:"Step 1: Provision Hardware",id:"step-1-provision-hardware",children:[]},{value:"Step 2: Build Contracts &amp; Set Up the Node",id:"step-2-build-contracts--set-up-the-node",children:[]},{value:"Step 3: Create &amp; Fund your Keys for Bonding",id:"step-3-create--fund-your-keys-for-bonding",children:[]},{value:"Step 4: Update the Trusted Hash",id:"step-4-update-the-trusted-hash",children:[]},{value:"Step 5: Start the Node",id:"step-5-start-the-node",children:[]},{value:"Step 6: Confirm the Node is Syncronized",id:"step-6-confirm-the-node-is-syncronized",children:[]},{value:"Step 7: Send the Bonding Request",id:"step-7-send-the-bonding-request",children:[]}],u={toc:l};function c(e){var t=e.components,n=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"joining-a-running-network"},"Joining a Running Network"),(0,i.kt)("p",null,"The Casper network is permissionless, enabling new validators to join the network and provide additional security to the system. This page will outline the sequence of recommended steps to spin up a validating node and successfully join an existing network."),(0,i.kt)("h2",{id:"step-1-provision-hardware"},"Step 1: Provision Hardware"),(0,i.kt)("p",null,"Visit the Hardware section and provision your node hardware."),(0,i.kt)("h2",{id:"step-2-build-contracts--set-up-the-node"},"Step 2: Build Contracts & Set Up the Node"),(0,i.kt)("p",null,"Visit the Setup section in this guide and configure the software on your node. Build all necessary contracts for bonding, retrieving rewards and unbonding."),(0,i.kt)("h2",{id:"step-3-create--fund-your-keys-for-bonding"},"Step 3: Create & Fund your Keys for Bonding"),(0,i.kt)("p",null,"Obtain token to bond your node on to the network & to pay for the bonding transaction."),(0,i.kt)("h2",{id:"step-4-update-the-trusted-hash"},"Step 4: Update the Trusted Hash"),(0,i.kt)("p",null,"The node's ",(0,i.kt)("inlineCode",{parentName:"p"},"config.toml")," needs to be updated with a recent trusted hash. Visit a ",(0,i.kt)("inlineCode",{parentName:"p"},"/status")," endpoint of a validating node to obtain a fresh trusted block hash."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"curl http://<IP_ADDRESS>:<PORT>/status\n")),(0,i.kt)("p",null,"Default port is usually ",(0,i.kt)("inlineCode",{parentName:"p"},"8888")," Retrieve the ",(0,i.kt)("inlineCode",{parentName:"p"},"last_added_block_info:")," hash."),(0,i.kt)("p",null,"A good IP to use above are those listed in your ",(0,i.kt)("inlineCode",{parentName:"p"},"config.toml")," as ",(0,i.kt)("inlineCode",{parentName:"p"},"known_addresses"),"."),(0,i.kt)("h2",{id:"step-5-start-the-node"},"Step 5: Start the Node"),(0,i.kt)("p",null,"Once the node has been added to the list of validators for an upcoming era, it's time to start the node. The deb package installs a casper-node service for systemd. Start the node with:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl start casper-node-launcher\n")),(0,i.kt)("p",null,"For more information visit ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casper-network/casper-node/tree/master/resources/production"},"Github")),(0,i.kt)("h2",{id:"step-6-confirm-the-node-is-syncronized"},"Step 6: Confirm the Node is Syncronized"),(0,i.kt)("p",null,"While the node is synchronizing, the ",(0,i.kt)("inlineCode",{parentName:"p"},"/status")," endpoint is available. You will be able to compare this to other node's status endpoint ",(0,i.kt)("inlineCode",{parentName:"p"},"era_id")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"height")," to determine if you are caught up. You will not be able to perform any ",(0,i.kt)("inlineCode",{parentName:"p"},"casper-client")," calls to your ",(0,i.kt)("inlineCode",{parentName:"p"},"7777")," RPC port until your node is fully caught up."),(0,i.kt)("h2",{id:"step-7-send-the-bonding-request"},"Step 7: Send the Bonding Request"),(0,i.kt)("p",null,"To avoid being ejected for liveness failures, it is critical that the bonding request be sent to the local node only after it has synchronized the protocol state and linear blockchain."),(0,i.kt)("p",null,"For this reason it is recommended that you use ",(0,i.kt)("inlineCode",{parentName:"p"},"casper-client")," with the default ",(0,i.kt)("inlineCode",{parentName:"p"},"--node-address")," which will talk to localhost."),(0,i.kt)("p",null,"Please see the bonding page to submit a bonding request to change from a synchronized node to a validating node."))}c.isMDXComponent=!0}}]);